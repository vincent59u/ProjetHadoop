<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>E-commerce Brésilien</title>

    <!-- Bootstrap core CSS -->
    <link href="../../web/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Leaflet core CSS -->
    <link href="../../web/vendor/leaflet/leaflet.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="../../web/css/style.css" rel="stylesheet">
</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container">
        <a class="navbar-brand" href="index.html">E-commerce Brésilien</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="index.html">Accueil</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- Page Content -->
<div class="container">
    <div class="row">
        <div class="col-lg-3">
            <h2 class="my-4">Questions</h2>
            <div class="list-group">
                <a href="question1.html" class="list-group-item">Question 1</a>
                <a href="question2.html" class="list-group-item">Question 2</a>
                <a href="question3.html" class="list-group-item">Question 3</a>
                <a href="question4.html" class="list-group-item">Question 4</a>
                <a href="question5.html" class="list-group-item active">Question 5</a>
            </div>
        </div>
        <div class="col-lg-9">
            <div class="card card-outline-secondary mt-4">
                <div class="card-header">
                    <h3 class="card-title">Question 5</h3>
                    <h4>Villes qui enregistrent le plus et/ou le moins de commande</h4>
                </div>
                <div class="card-body">
                    <p class="card-text">
                    Cette question a pour but de déterminer les trois villes qui enregistrent le plus de commande et les trois qui
                    en possède le moins. Cette question a été réalisée avec l'algorithme des K-means (Sur le même principe que le projet
                    de l'année dernière).<br>

                    <h3>Fichiers et attributs utilisés</h3>
                    <table class="table table-bordered table-striped">
                        <tr>
                            <th>Fichiers</th>
                            <th>Attributs</th>
                        </tr>
                        <tr>
                            <td>customer_order_location-r-00000</td>
                            <td>latitude, longitude</td>
                        </tr>
                        <tr>
                            <td>centroids.csv</td>
                            <td>cluster_id, latitude, longitude</td>
                        </tr>
                    </table>
                    <small><sup>*</sup> customer_order_location-r-00000 provient de la question2. Le fichier centroids.csv a été créé aléatoirement</small>

                    <h3>Mapper</h3>
                    Le premier mapper permet d'associer chaque coordonée GPS (latitude, longitude) des clients ayant effectué une commande au cluster_id qui correspond à la zone
                    géographique la plus proche.<br>
                    Le second mapper récupère le fichier de centroid et associe pour chaque couple latitude, longitude le nombre de commande.<br><br>

                    <h3>Reducer</h3>
                    Le premier reducer reçoit pour chaque cluster_id une liste de localisation. Il effectue une moyenne pour chaque cluster (calcul du centroid).
                    Le job est répété jusqu'à ce que les centroids converge.<br>
                    Le deuxième reducer selectionne uniquement les trois zones qui possède le plus de commande ainsi que les trois qui en possèdent le moins.<br><br>

                    <h3>Analyse économique</h3>
                    On peut voir que les zones qui enregistrent le plus de commande correspondent aux plus grandes villes du pays. Les villes dont les habitants consomment le moins sont situées
                    dans les terres au centre du pays. Il serait donc plus judicieux de s'installer dans le sud du pays au bord de la côte.<br><br>

                    <h3>Graphique</h3>
                    <div id="question5"></div>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Footer -->
<br><br>
<footer class="py-5 bg-dark">
    <div class="container">
        <p class="m-0 text-center text-white">Copyright &copy; Matthieu VINCENT 2018</p>
    </div>
</footer>

<!-- Bootstrap core JavaScript -->
<script src="../../web/vendor/jquery/jquery.min.js"></script>
<script src="../../web/vendor/leaflet/leaflet.js"></script>
<script src="../../web/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

<!-- Chart -->
<script src="../js/question5.js"></script>
</body>
</html>